!function(e,t,n){if("object"==typeof n&&"string"!=typeof n.nodeName)t(e,n);else{var n={},i=["1.4.13-iab4331"],r="default";function o(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=o(e[t]));return Object.freeze(e)}for(var s in r&&i.push(r),t(e,n),n)n.hasOwnProperty(s)&&(null==Object.getOwnPropertyDescriptor(e,s)&&Object.defineProperty(e,s,{value:{}}),i.forEach(function(t){if(null==Object.getOwnPropertyDescriptor(e[s],t)){var i=o(n[s]);Object.defineProperty(e[s],t,{get:function(){return i},enumerable:!0})}}))}}("undefined"==typeof global?this:global,function(e,t){var n=n||{};n.scope={},n.createTemplateTagFirstArg=function(e){return e.raw=e},n.createTemplateTagFirstArgWithRaw=function(e,t){return e.raw=t,e},n.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},n.arrayIterator=function(e){return{next:n.arrayIteratorImpl(e)}},n.makeIterator=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return n.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},n.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},n.arrayFromIterable=function(e){return e instanceof Array?e:n.arrayFromIterator(n.makeIterator(e))},n.ASSUME_ES5=!1,n.ASSUME_NO_NATIVE_MAP=!1,n.ASSUME_NO_NATIVE_SET=!1,n.SIMPLE_FROUND_POLYFILL=!1,n.ISOLATE_POLYFILLS=!1,n.FORCE_POLYFILL_PROMISE=!1,n.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,n.objectCreate=n.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var t=function(){};return t.prototype=e,new t},n.defineProperty=n.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},n.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},n.global=n.getGlobal(this),n.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),n.TRUST_ES6_POLYFILLS=!n.ISOLATE_POLYFILLS||n.IS_SYMBOL_NATIVE,n.polyfills={},n.propertyToPolyfillSymbol={},n.POLYFILL_PREFIX="$jscp$",n.polyfill=function(e,t,i,r){t&&(n.ISOLATE_POLYFILLS?n.polyfillIsolated(e,t,i,r):n.polyfillUnisolated(e,t,i,r))},n.polyfillUnisolated=function(e,t,i,r){for(r=0,i=n.global,e=e.split(".");r<e.length-1;r++){var o=e[r];if(!(o in i))return;i=i[o]}(t=t(r=i[e=e[e.length-1]]))!=r&&null!=t&&n.defineProperty(i,e,{configurable:!0,writable:!0,value:t})},n.polyfillIsolated=function(e,t,i,r){var o=e.split(".");e=1===o.length,r=o[0],r=!e&&r in n.polyfills?n.polyfills:n.global;for(var s=0;s<o.length-1;s++){var a=o[s];if(!(a in r))return;r=r[a]}o=o[o.length-1],null!=(t=t(i=n.IS_SYMBOL_NATIVE&&"es6"===i?r[o]:null))&&(e?n.defineProperty(n.polyfills,o,{configurable:!0,writable:!0,value:t}):t!==i&&(void 0===n.propertyToPolyfillSymbol[o]&&(i=1e9*Math.random()>>>0,n.propertyToPolyfillSymbol[o]=n.IS_SYMBOL_NATIVE?n.global.Symbol(o):n.POLYFILL_PREFIX+i+"$"+o),n.defineProperty(r,n.propertyToPolyfillSymbol[o],{configurable:!0,writable:!0,value:t})))},n.getConstructImplementation=function(){if(n.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(function e(){function t(){}return new t,Reflect.construct(t,[],function(){}),new t instanceof t}())return Reflect.construct;var e=Reflect.construct;return function(t,n,i){return t=e(t,n),i&&Reflect.setPrototypeOf(t,i.prototype),t}}return function(e,t,i){return void 0===i&&(i=e),i=n.objectCreate(i.prototype||Object.prototype),Function.prototype.apply.call(e,i,t)||i}},n.construct=({valueOf:n.getConstructImplementation}).valueOf(),n.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(t){}return!1},n.setPrototypeOf=n.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:n.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw TypeError(e+" is not extensible");return e}:null,n.inherits=function(e,t){if(e.prototype=n.objectCreate(t.prototype),e.prototype.constructor=e,n.setPrototypeOf){var i=n.setPrototypeOf;i(e,t)}else for(i in t)if("prototype"!=i){if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,i);r&&Object.defineProperty(e,i,r)}else e[i]=t[i]}e.superClass_=t.prototype},n.getRestArguments=function(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t},n.polyfill("Reflect",function(e){return e||{}},"es6","es3"),n.polyfill("Reflect.construct",function(e){return n.construct},"es6","es3"),n.polyfill("Reflect.setPrototypeOf",function(e){if(e)return e;if(n.setPrototypeOf){var t=n.setPrototypeOf;return function(e,n){try{return t(e,n),!0}catch(i){return!1}}}return null},"es6","es5"),n.initSymbol=function(){},n.polyfill("Symbol",function(e){if(e)return e;var t=function(e,t){this.$jscomp$symbol$id_=e,n.defineProperty(this,"description",{configurable:!0,writable:!0,value:t})};t.prototype.toString=function(){return this.$jscomp$symbol$id_};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0,o=function(e){if(this instanceof o)throw TypeError("Symbol is not a constructor");return new t(i+(e||"")+"_"+r++,e)};return o},"es6","es3"),n.polyfill("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<t.length;i++){var r=n.global[t[i]];"function"==typeof r&&"function"!=typeof r.prototype[e]&&n.defineProperty(r.prototype,e,{configurable:!0,writable:!0,value:function(){return n.iteratorPrototype(n.arrayIteratorImpl(this))}})}return e},"es6","es3"),n.iteratorPrototype=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},n.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r},n.polyfill("Array.prototype.keys",function(e){return e||function(){return n.iteratorFromArray(this,function(e){return e})}},"es6","es3"),n.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.polyfill("Object.values",function(e){return e||function(e){var t,i=[];for(t in e)n.owns(e,t)&&i.push(e[t]);return i}},"es8","es3"),n.checkEs6ConformanceViaProxy=function(){try{var e={},t=Object.create(new n.global.Proxy(e,{get:function(n,i,r){return n==e&&"q"==i&&r==t}}));return!0===t.q}catch(i){return!1}},n.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,n.ES6_CONFORMANCE=n.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&n.checkEs6ConformanceViaProxy(),n.polyfill("WeakMap",function(e){function t(){}function i(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function r(e){if(!n.owns(e,s)){var i=new t;n.defineProperty(e,s,{value:i})}}function o(e){if(!n.ISOLATE_POLYFILLS){var i=Object[e];i&&(Object[e]=function(e){return e instanceof t?e:(Object.isExtensible(e)&&r(e),i(e))})}}if(n.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&n.ES6_CONFORMANCE)return e}else if(function t(){if(!e||!Object.seal)return!1;try{var n=Object.seal({}),i=Object.seal({}),r=new e([[n,2],[i,3]]);if(2!=r.get(n)||3!=r.get(i))return!1;return r.delete(n),r.set(i,4),!r.has(n)&&4==r.get(i)}catch(o){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var a=0,u=function(e){if(this.id_=(a+=Math.random()+1).toString(),e){e=n.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}};return u.prototype.set=function(e,t){if(!i(e))throw Error("Invalid WeakMap key");if(r(e),!n.owns(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.id_]=t,this},u.prototype.get=function(e){return i(e)&&n.owns(e,s)?e[s][this.id_]:void 0},u.prototype.has=function(e){return i(e)&&n.owns(e,s)&&n.owns(e[s],this.id_)},u.prototype.delete=function(e){return!!(i(e)&&n.owns(e,s)&&n.owns(e[s],this.id_))&&delete e[s][this.id_]},u},"es6","es3"),n.MapEntry=function(){},n.polyfill("Map",function(e){if(n.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&n.ES6_CONFORMANCE)return e}else if(function t(){if(n.ASSUME_NO_NATIVE_MAP||!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var i=Object.seal({x:4}),r=new e(n.makeIterator([[i,"s"]]));if("s"!=r.get(i)||1!=r.size||r.get({x:4})||r.set({x:4},"t")!=r||2!=r.size)return!1;var o=r.entries(),s=o.next();if(s.done||s.value[0]!=i||"s"!=s.value[1])return!1;return!(s=o.next()).done&&4==s.value[0].x&&"t"==s.value[1]&&!!o.next().done}catch(a){return!1}}())return e;var t=new WeakMap,i=function(e){if(this.data_={},this.head_=s(),this.size=0,e){e=n.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}};i.prototype.set=function(e,t){e=0===e?0:e;var n=r(this,e);return n.list||(n.list=this.data_[n.id]=[]),n.entry?n.entry.value=t:(n.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:t},n.list.push(n.entry),this.head_.previous.next=n.entry,this.head_.previous=n.entry,this.size++),this},i.prototype.delete=function(e){return!!(e=r(this,e)).entry&&!!e.list&&(e.list.splice(e.index,1),e.list.length||delete this.data_[e.id],e.entry.previous.next=e.entry.next,e.entry.next.previous=e.entry.previous,e.entry.head=null,this.size--,!0)},i.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=s(),this.size=0},i.prototype.has=function(e){return!!r(this,e).entry},i.prototype.get=function(e){return(e=r(this,e).entry)&&e.value},i.prototype.entries=function(){return o(this,function(e){return[e.key,e.value]})},i.prototype.keys=function(){return o(this,function(e){return e.key})},i.prototype.values=function(){return o(this,function(e){return e.value})},i.prototype.forEach=function(e,t){for(var n,i=this.entries();!(n=i.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var r=function(e,i){var r=i&&typeof i;"object"==r||"function"==r?t.has(i)?r=t.get(i):(r=""+ ++a,t.set(i,r)):r="p_"+i;var o=e.data_[r];if(o&&n.owns(e.data_,r))for(e=0;e<o.length;e++){var s=o[e];if(i!=i&&s.key!=s.key||i===s.key)return{id:r,list:o,index:e,entry:s}}return{id:r,list:o,index:-1,entry:void 0}},o=function(e,t){var i=e.head_;return n.iteratorPrototype(function(){if(i){for(;i.head!=e.head_;)i=i.previous;for(;i.next!=i.head;)return{done:!1,value:t(i=i.next)};i=null}return{done:!0,value:void 0}})},s=function(){var e={};return e.previous=e.next=e.head=e},a=0;return i},"es6","es3");var i={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",STATE_CHANGE:"stateChange"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media"},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},AccessMode:{FULL:"full",DOMAIN:"domain",LIMITED:"limited"},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},DeviceLockState:{LOCKED:"locked",UNLOCKED:"unlocked"},Environment:{APP:"app",WEB:"web"},DeviceCategory:{CTV:"ctv",DESKTOP:"desktop",MOBILE:"mobile",OTHER:"other"},InteractionType:{CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},MediaType:{DISPLAY:"display",VIDEO:"video"},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",PICTURE_IN_PICTURE:"pictureInPicture",DEVICE_LOCKED:"deviceLocked",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped",UNMEASURABLE:"unmeasurable",NO_WINDOW_FOCUS:"noWindowFocus",NO_OUTPUT_DEVICE:"noOutputDevice"},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid"},VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels",HAS_WINDOW_FOCUS:"hasWindowFocus"},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},OmidImplementer:{OMSDK:"omsdk"},MessageMethod:{IDENTIFY_SERVICE_WINDOW:"identifyServiceWindow"}},r="omid_message_guid",o="omid_message_method",s="omid_message_version",a="omid_message_args",u=function(e,t,n,i){this.guid=e,this.method=t,this.version=n,this.args=i};u.isValidSerializedMessage=function(e){return!!e&&void 0!==e[r]&&void 0!==e[o]&&void 0!==e[s]&&"string"==typeof e[r]&&"string"==typeof e[o]&&"string"==typeof e[s]&&(void 0===e[a]||void 0!==e[a])},u.deserialize=function(e){return new u(e[r],e[o],e[s],e[a])},u.prototype.serialize=function(){var e={};return e=(e[r]=this.guid,e[o]=this.method,e[s]=this.version,e),void 0!==this.args&&(e[a]=this.args),e};var d=function(e){this.to=e,this.communicationType_=i.CommunicationType.NONE};d.prototype.sendMessage=function(e,t){},d.prototype.handleMessage=function(e,t){this.onMessage&&this.onMessage(e,t)},d.prototype.serialize=function(e){return JSON.stringify(e)},d.prototype.deserialize=function(e){return JSON.parse(e)},d.prototype.isDirectCommunication=function(){return this.communicationType_===i.CommunicationType.DIRECT},d.prototype.isCrossOrigin=function(){};var c={};function p(e,t){if(!t)throw Error("Value for "+e+" is undefined, null or blank.");if("string"!=typeof t&&!(t instanceof String))throw Error("Value for "+e+" is not a string.");if(""===t.trim())throw Error("Value for "+e+" is empty string.")}function f(e,t){if(null==t)throw Error("Value for "+e+" is undefined or null")}function l(e,t){if(null==t)throw Error(e+" must not be null or undefined.");if("number"!=typeof t||isNaN(t))throw Error("Value for "+e+" is not a number")}function h(e,t,n,i){if(l(e,t),t<n||t>i)throw Error("Value for "+e+" is outside the range ["+n+","+i+"]")}c.assertTruthyString=p,c.assertNotNullObject=f,c.assertNumber=l,c.assertNumberBetween=h,c.assertFunction=function e(t,n){if(!n)throw Error(t+" must not be truthy.")},c.assertPositiveNumber=function e(t,n){if(l(t,n),0>n)throw Error(t+" must be a positive number.")};var E={};function y(e,t){return e&&(e[t]||(e[t]={}))}function S(e,n,i){(i=void 0===i?void 0===t?null:t:i)&&((e=e.split(".")).slice(0,e.length-1).reduce(y,i)[e[e.length-1]]=n)}E.packageExport=S,S("OmidSessionClient.Partner",function(e,t){p("Partner.name",e),p("Partner.version",t),this.name=e,this.version=t});var v=function(e,t,n,r){r=void 0===r?i.AccessMode.FULL:r,p("VerificationScriptResource.resourceUrl",e),this.resourceUrl=e,this.vendorKey=t,this.verificationParameters=n,this.accessMode=r};v.prototype.toJSON=function(){return{accessMode:this.accessMode,resourceUrl:this.resourceUrl,vendorKey:this.vendorKey,verificationParameters:this.verificationParameters}},S("OmidSessionClient.VerificationScriptResource",v);var m=function(e,t,n,i){n=void 0===n?null:n,i=void 0===i?null:i,f("Context.partner",e),this.partner=e,this.verificationScriptResources=t,this.videoElement=this.slotElement=null,this.contentUrl=n,this.customReferenceData=i,this.underEvaluation=!1,this.serviceWindow=null};m.prototype.setVideoElement=function(e){f("Context.videoElement",e),this.videoElement=e},m.prototype.setSlotElement=function(e){f("Context.slotElement",e),this.slotElement=e},m.prototype.setServiceWindow=function(e){f("Context.serviceWindow",e),this.serviceWindow=e},S("OmidSessionClient.Context",m);var I={};I.omidGlobal=function t(){if(void 0!==e&&e)return e;if("undefined"!=typeof global&&global)return global;if("undefined"!=typeof window&&window)return window;if("undefined"!=typeof globalThis&&globalThis)return globalThis;var n=Function("return this")();if(n)return n;throw Error("Could not determine global object context.")}();var O={ROOT:"omidSessionInterface",AD_EVENTS:"adEvents",MEDIA_EVENTS:"mediaEvents"},g={sessionError:"reportError"},A=Object.keys(i.MediaEventType).map(function(e){return i.MediaEventType[e]}),T=["impressionOccurred",],M=function(e){e=void 0===e?I.omidGlobal:e,this.interfaceRoot_=e[O.ROOT]};M.prototype.isSupported=function(){return null!=this.interfaceRoot_},M.prototype.sendMessage=function(e,t,i){if("registerSessionObserver"==e&&(i=[t]),g[e]&&(e=g[e]),t=this.interfaceRoot_,0<=T.indexOf(e)&&(t=t[O.AD_EVENTS]),0<=A.indexOf(e)&&(t=t[O.MEDIA_EVENTS]),!(t=t[e]))throw Error("Unrecognized method name: "+e+".");t.apply(null,n.arrayFromIterable(i))};var C={};function R(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return e="y"===e?(3&t|8).toString(16):t.toString(16)})}C.generateGuid=R;var N={};function P(){var e=n.getRestArguments.apply(0,arguments);b(function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat(n.arrayFromIterable(e))))},function(){return console.error.apply(console,n.arrayFromIterable(e))})}function b(e,t){"undefined"!=typeof jasmine&&jasmine?e():"undefined"!=typeof console&&console&&console.error&&t()}N.error=P,N.debug=function e(){var t=n.getRestArguments.apply(0,arguments);b(function(){},function(){return console.error.apply(console,n.arrayFromIterable(t))})};var D={ApiVersion:"1.0",Version:"1.4.13-iab4331"},V={};function w(e){return/\d+\.\d+\.\d+(-.*)?/.test(e)}function L(e,t){e=e.split("-")[0].split("."),t=t.split("-")[0].split(".");for(var n=0;n<3;n++){var i=parseInt(e[n],10),r=parseInt(t[n],10);if(i>r)break;if(i<r)return!1}return!0}V.isValidVersion=w,V.versionGreaterOrEqual=L;var F={},x="1.0.3";function $(e,t){return w(e)&&L(e,x)?t:JSON.stringify(t)}function U(e,t){return w(e)&&L(e,x)?t||[]:t&&"string"==typeof t?JSON.parse(t):[]}F.serializeMessageArgs=$,F.deserializeMessageArgs=U;var _={},W={SESSION_SERVICE:"SessionService.",VERIFICATION_SERVICE:"VerificationService."};function k(e){var t,n;return t=e,n=W.SESSION_SERVICE,n+t}function B(e){return H(e,W.SESSION_SERVICE)}function Y(e){return H(e,W.VERIFICATION_SERVICE)}function G(e,t){return t+e}function H(e,t){return(e=e.match(RegExp("^"+t+"(.*)")))&&e[1]}_.getPrefixedSessionServiceMethod=k,_.getPrefixedVerificationServiceMethod=function e(t){var n,i;return n=t,i=W.VERIFICATION_SERVICE,i+n},_.getUnprefixedSessionServiceMethod=B,_.getUnprefixedVerificationServiceMethod=Y,_.isPrefixedSessionServiceMethod=function e(t){return null!=B(t)},_.isPrefixedVerificationServiceMethod=function e(t){return null!=Y(t)};var z={};function j(e){return null!=e&&void 0!==e.top&&null!=e.top}function J(e){if(e===I.omidGlobal)return!1;try{var t;if(void 0===e.location.hostname)return!0;t=e,""===t.x||t.x}catch(n){return!0}return!1}function K(e){return void 0===e&&"undefined"!=typeof window&&window&&(e=window),j(e)?e:I.omidGlobal}function X(e){return j(e)?e.top:I.omidGlobal}z.evaluatePageUrl=function e(t){if(!j(t))return null;try{var n=t.top;return J(n)?null:n.location.href}catch(i){return null}},z.isCrossOrigin=J,z.removeDomElements=function e(t){return t.type===i.AdEventType.SESSION_START&&(void 0!==t.data.context.videoElement&&(t.data.context.videoElement="DOM Video Element - Present but not parsed to avoid parse error"),void 0!==t.data.context.slotElement&&(t.data.context.slotElement="DOM Slot Element - Present but not parsed to avoid parse error")),t},z.resolveGlobalContext=K,z.resolveTopWindowContext=X,z.isTopWindowAccessible=function e(t){try{return!!t.top.location.href}catch(n){return!1}};var Q=function(e){d.call(this,e),this.communicationType_=i.CommunicationType.DIRECT,this.handleExportedMessage=Q.prototype.handleExportedMessage.bind(this)};n.inherits(Q,d),Q.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.handleExportedMessage(e.serialize(),this)},Q.prototype.handleExportedMessage=function(e,t){u.isValidSerializedMessage(e)&&this.handleMessage(u.deserialize(e),t)},Q.prototype.isCrossOrigin=function(){return!1};var Z=function(e,t){t=void 0===t?I.omidGlobal:t,d.call(this,t);var n=this;this.communicationType_=i.CommunicationType.POST_MESSAGE,e.addEventListener("message",function(e){if("object"==typeof e.data){var t=e.data;u.isValidSerializedMessage(t)&&(t=u.deserialize(t),e.source&&n.handleMessage(t,e.source))}})};n.inherits(Z,d),Z.isCompatibleContext=function(e){return!!(e&&e.addEventListener&&e.postMessage)},Z.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.postMessage(e.serialize(),"*")},Z.prototype.isCrossOrigin=function(){return!this.to||J(this.to)};var q={OMID_PRESENT_FRAME_NAME:"omid_v1_present",OMID_PRESENT_FRAME_NAME_WEB:"omid_v1_present_web",OMID_PRESENT_FRAME_NAME_APP:"omid_v1_present_app",getEnvironmentIframeName:function(e){var t={};return(t[i.Environment.APP]=q.OMID_PRESENT_FRAME_NAME_APP,t[i.Environment.WEB]=q.OMID_PRESENT_FRAME_NAME_WEB,t)[e]}};function ee(e,t){try{return e.frames&&!!e.frames[t]}catch(n){return!1}}function et(e,t){e.document.write('<iframe style="display:none" id="'+(t+'" name="')+t+'" sandbox></iframe>')}q.isOmidPresent=function(e){return[q.OMID_PRESENT_FRAME_NAME,q.OMID_PRESENT_FRAME_NAME_WEB,q.OMID_PRESENT_FRAME_NAME_APP,].some(function(t){return ee(e,t)})},q.getOmidEnvironment=function(e){for(var t=n.makeIterator(Object.values(i.Environment)),r=t.next();!r.done;r=t.next())if(r=r.value,ee(e,q.getEnvironmentIframeName(r)))return r;return null},q.declareOmidPresence=function(e,t){e.frames&&e.document&&![q.OMID_PRESENT_FRAME_NAME,q.OMID_PRESENT_FRAME_NAME_WEB,q.OMID_PRESENT_FRAME_NAME_APP,].some(function(t){return!!e.frames[t]})&&(null==e.document.body&&q.isMutationObserverAvailable_(e)?q.registerMutationObserver_(e,t):(t=q.getEnvironmentIframeName(t),e.document.body?(q.appendPresenceIframe_(e,q.OMID_PRESENT_FRAME_NAME),q.appendPresenceIframe_(e,t)):(et(e,q.OMID_PRESENT_FRAME_NAME),et(e,t))))},q.appendPresenceIframe_=function(e,t){var n=e.document.createElement("iframe");n.id=t,n.name=t,n.style.display="none",n.sandbox="",e.document.body.appendChild(n)},q.isMutationObserverAvailable_=function(e){return"MutationObserver"in e},q.registerMutationObserver_=function(e,t){var n=new MutationObserver(function(i){i.forEach(function(i){"BODY"===i.addedNodes[0].nodeName&&(i=q.getEnvironmentIframeName(t),q.appendPresenceIframe_(e,q.OMID_PRESENT_FRAME_NAME),q.appendPresenceIframe_(e,i),n.disconnect())})});n.observe(e.document.documentElement,{childList:!0})};var en={},ei=["omid","v1_SessionServiceCommunication"],er=["omid","v1_VerificationServiceCommunication"],eo=["omidVerificationProperties","serviceWindow"];function es(e,t){return t.reduce(function(e,t){return e&&e[t]},e)}function ea(e,t,n,i){if(!J(t))try{var r=es(t,n);if(r)return new Q(r)}catch(o){}return i(t)?new Z(e,t):null}function eu(e,t,i,r){t=n.makeIterator(t);for(var o=t.next();!o.done;o=t.next())if(o=ea(e,o.value,i,r))return o;return null}function ed(e,t,n){n=void 0===n?q.isOmidPresent:n;var i=[e,X(e)];return t&&i.unshift(t),eu(e,i,ei,n)}en.startSessionServiceCommunication=ed,en.startVerificationServiceCommunication=function e(t,n){n=void 0===n?q.isOmidPresent:n;var i=[],r=es(t,eo);return r&&i.push(r),i.push(X(t)),eu(t,i,er,n)},D.Version;var ec=function(e,t,n){f("AdSession.context",e),this.adSessionId_=R(),this.context_=e,this.impressionOccurred_=!1;var i=this.context_.serviceWindow||void 0;this.communication_=t||ed(K(),i),this.sessionInterface_=n||new M,this.isSessionRunning_=this.hasMediaEvents_=this.hasAdEvents_=!1,this.impressionType_=this.creativeType_=null,this.creativeLoaded_=!1,this.callbackMap_={},this.communication_&&(this.communication_.onMessage=this.handleInternalMessage_.bind(this)),this.setClientInfo_(),this.injectVerificationScripts_(e.verificationScriptResources),this.sendSlotElement_(e.slotElement),this.sendVideoElement_(e.videoElement),this.sendContentUrl_(e.contentUrl),this.watchSessionEvents_()};ec.prototype.getAdSessionId=function(){return this.adSessionId_},ec.prototype.setCreativeType=function(e){if(e===i.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error("Creative type cannot be redefined with value "+i.CreativeType.DEFINED_BY_JAVASCRIPT);if(this.impressionOccurred_)throw Error("Impression has already occurred");if(this.creativeLoaded_)throw Error("Creative has already loaded");if(this.creativeType_&&this.creativeType_!==i.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error("Creative type cannot be redefined");if(void 0===this.creativeType_)throw Error("Native integration is using OMID 1.2 or earlier");this.sendOneWayMessage("setCreativeType",e,this.adSessionId_),this.creativeType_=e},ec.prototype.setImpressionType=function(e){if(e===i.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error("Impression type cannot be redefined with value "+i.ImpressionType.DEFINED_BY_JAVASCRIPT);if(this.impressionOccurred_)throw Error("Impression has already occurred");if(this.creativeLoaded_)throw Error("Creative has already loaded");if(this.impressionType_&&this.impressionType_!==i.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error("Impression type cannot be redefined");if(void 0===this.impressionType_)throw Error("Native integration is using OMID 1.2 or earlier");this.sendOneWayMessage("setImpressionType",e,this.adSessionId_),this.impressionType_=e},ec.prototype.isSupported=function(){return!!this.communication_||this.sessionInterface_.isSupported()},ec.prototype.isSendingElementsSupported_=function(){return this.communication_?this.communication_.isDirectCommunication():this.sessionInterface_.isSupported()},ec.prototype.registerSessionObserver=function(e){this.sendMessage("registerSessionObserver",e,this.adSessionId_)},ec.prototype.start=function(){this.sendOneWayMessage("startSession",{customReferenceData:this.context_.customReferenceData,underEvaluation:this.context_.underEvaluation},this.adSessionId_)},ec.prototype.finish=function(){this.sendOneWayMessage("finishSession",this.adSessionId_)},ec.prototype.error=function(e,t){this.sendOneWayMessage("sessionError",e,t,this.adSessionId_)},ec.prototype.registerAdEvents=function(){if(this.hasAdEvents_)throw Error("AdEvents already registered.");this.hasAdEvents_=!0,this.sendOneWayMessage("registerAdEvents",this.adSessionId_)},ec.prototype.registerMediaEvents=function(){if(this.hasMediaEvents_)throw Error("MediaEvents already registered.");this.hasMediaEvents_=!0,this.sendOneWayMessage("registerMediaEvents",this.adSessionId_)},ec.prototype.sendOneWayMessage=function(e){var t=n.getRestArguments.apply(1,arguments);this.sendMessage.apply(this,[e,null].concat(n.arrayFromIterable(t)))},ec.prototype.sendMessage=function(e,t){var i=n.getRestArguments.apply(2,arguments);this.communication_?this.sendInternalMessage_(e,t,i):this.sessionInterface_.isSupported()&&this.sendInterfaceMessage_(e,t,i)},ec.prototype.sendInternalMessage_=function(e,t,n){var i=R();t&&(this.callbackMap_[i]=t),e=new u(i,k(e),D.Version,$(D.Version,n)),this.communication_.sendMessage(e)},ec.prototype.handleInternalMessage_=function(e,t){t=e.method;var n=e.guid;if(e=e.args,"response"===t&&this.callbackMap_[n]){var i=U(D.Version,e);this.callbackMap_[n].apply(this,i)}"error"===t&&window.console&&P(e)},ec.prototype.sendInterfaceMessage_=function(e,t,n){try{this.sessionInterface_.sendMessage(e,t,n)}catch(i){P("Failed to communicate with SessionInterface with error:"),P(i)}},ec.prototype.assertSessionRunning=function(){if(!this.isSessionRunning_)throw Error("Session not started.")},ec.prototype.impressionOccurred=function(){if(this.creativeType_===i.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error("Creative type has not been redefined");if(this.impressionType_===i.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error("Impression type has not been redefined");this.impressionOccurred_=!0},ec.prototype.creativeLoaded=function(){if(this.creativeType_===i.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error("Creative type has not been redefined");if(this.impressionType_===i.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error("Impression type has not been redefined");this.creativeLoaded_=!0},ec.prototype.setClientInfo_=function(){this.sendOneWayMessage("setClientInfo",D.Version,this.context_.partner.name,this.context_.partner.version,this.adSessionId_)},ec.prototype.injectVerificationScripts_=function(e){e&&(e=e.map(function(e){return e.toJSON()}),this.sendOneWayMessage("injectVerificationScriptResources",e,this.adSessionId_))},ec.prototype.sendSlotElement_=function(e){this.sendElement_(e,"setSlotElement")},ec.prototype.sendVideoElement_=function(e){this.sendElement_(e,"setVideoElement")},ec.prototype.sendElement_=function(e,t){e&&(this.isSendingElementsSupported_()?this.sendOneWayMessage(t,e,this.adSessionId_):this.error(i.ErrorType.GENERIC,"Session Client "+t+" called when communication is cross-origin"))},ec.prototype.sendContentUrl_=function(e){e&&this.sendOneWayMessage("setContentUrl",e,this.adSessionId_)},ec.prototype.setElementBounds=function(e){f("AdSession.elementBounds",e),this.sendOneWayMessage("setElementBounds",e,this.adSessionId_)},ec.prototype.watchSessionEvents_=function(){var e=this;this.registerSessionObserver(function(t){t.type===i.AdEventType.SESSION_START&&(e.isSessionRunning_=!0,e.creativeType_=t.data.creativeType,e.impressionType_=t.data.impressionType),t.type===i.AdEventType.SESSION_FINISH&&(e.isSessionRunning_=!1)})},S("OmidSessionClient.AdSession",ec);var ep=function(e,t,n,i){this.isSkippable=e,this.skipOffset=t,this.isAutoPlay=n,this.position=i};ep.prototype.toJSON=function(){return{isSkippable:this.isSkippable,skipOffset:this.skipOffset,isAutoPlay:this.isAutoPlay,position:this.position}};var ef=function(e){f("AdEvents.adSession",e),this.adSessionId_=e.getAdSessionId();try{e.registerAdEvents(),this.adSession=e}catch(t){throw Error("AdSession already has an ad events instance registered")}};ef.prototype.impressionOccurred=function(){this.adSession.assertSessionRunning(),this.adSession.impressionOccurred(),this.adSession.sendOneWayMessage("impressionOccurred",this.adSessionId_)},ef.prototype.loaded=function(e){e=void 0===e?null:e,this.adSession.creativeLoaded(),e=e?e.toJSON():null,this.adSession.sendOneWayMessage("loaded",e,this.adSessionId_)},S("OmidSessionClient.AdEvents",ef);var el=function(e){f("MediaEvents.adSession",e),this.adSessionId_=e.getAdSessionId();try{e.registerMediaEvents(),this.adSession=e}catch(t){throw Error("AdSession already has a media events instance registered")}};el.prototype.start=function(e,t){l("MediaEvents.start.duration",e),h("MediaEvents.start.mediaPlayerVolume",t,0,1),this.adSession.sendOneWayMessage("start",e,t,this.adSessionId_)},el.prototype.firstQuartile=function(){this.adSession.sendOneWayMessage("firstQuartile",this.adSessionId_)},el.prototype.midpoint=function(){this.adSession.sendOneWayMessage("midpoint",this.adSessionId_)},el.prototype.thirdQuartile=function(){this.adSession.sendOneWayMessage("thirdQuartile",this.adSessionId_)},el.prototype.complete=function(){this.adSession.sendOneWayMessage("complete",this.adSessionId_)},el.prototype.pause=function(){this.adSession.sendOneWayMessage("pause",this.adSessionId_)},el.prototype.resume=function(){this.adSession.sendOneWayMessage("resume",this.adSessionId_)},el.prototype.bufferStart=function(){this.adSession.sendOneWayMessage("bufferStart",this.adSessionId_)},el.prototype.bufferFinish=function(){this.adSession.sendOneWayMessage("bufferFinish",this.adSessionId_)},el.prototype.skipped=function(){this.adSession.sendOneWayMessage("skipped",this.adSessionId_)},el.prototype.volumeChange=function(e){h("MediaEvents.volumeChange.mediaPlayerVolume",e,0,1),this.adSession.sendOneWayMessage("volumeChange",e,this.adSessionId_)},el.prototype.playerStateChange=function(e){f("MediaEvents.playerStateChange.playerState",e),this.adSession.sendOneWayMessage("playerStateChange",e,this.adSessionId_)},el.prototype.adUserInteraction=function(e){f("MediaEvents.adUserInteraction.interactionType",e),this.adSession.sendOneWayMessage("adUserInteraction",e,this.adSessionId_)},S("OmidSessionClient.MediaEvents",el),S("OmidSessionClient.OmidVersion",function(e,t){p("OmidVersion.semanticVersion",e),p("OmidVersion.apiLevel",t)});var eh={};function eE(e){var t=K();new Z(t).onMessage=function(t,n){t.method===i.MessageMethod.IDENTIFY_SERVICE_WINDOW&&e(n)}}S("OmidSessionClient.listenForServiceWindow",eE),eh.listenForServiceWindow=eE,S("OmidSessionClient.VastProperties",ep);var ey={VerificationVendorId:{OTHER:1,MOAT:2,DOUBLEVERIFY:3,INTEGRAL_AD_SCIENCE:4,PIXELATE:5,NIELSEN:6,COMSCORE:7,MEETRICS:8,GOOGLE:9}};function e8(e){for(var t=n.makeIterator(eS.keys()),i=t.next();!i.done;i=t.next()){i=i.value;for(var r=n.makeIterator(eS.get(i)),o=r.next();!o.done;o=r.next())if(o.value.test(e))return i}return ey.VerificationVendorId.OTHER}var eS=new Map([[ey.VerificationVendorId.MOAT,[/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.moatads\.com\/.*$/,],],[ey.VerificationVendorId.DOUBLEVERIFY,[/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.doubleverify\.com\/.*$/,/^(https?:\/\/|\/\/)?c\.[\w\-]+\.com\/vfw\/dv\/.*$/,/^(https?:\/\/|\/\/)?(www\.)?[\w]+\.tv\/r\/s\/d\/.*$/,/^(https?:\/\/|\/\/)?(\w\.?)+\.dv\.tech\/.*$/,],],[ey.VerificationVendorId.INTEGRAL_AD_SCIENCE,[/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.adsafeprotected\.com\/.*$/,],],[ey.VerificationVendorId.PIXELATE,[/^https?:\/\/(q|cdn)\.adrta\.com\/s\/.*\/(aa|aanf)\.js.*$/,/^https:\/\/cdn\.rta247\.com\/s\/.*\/(aa|aanf)\.js.*$/,],],[ey.VerificationVendorId.NIELSEN,[],],[ey.VerificationVendorId.COMSCORE,[/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.voicefive\.com\/.*$/,/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.measuread\.com\/.*$/,/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.scorecardresearch\.com\/.*$/,],],[ey.VerificationVendorId.MEETRICS,[/^(https?:\/\/|\/\/)?s418\.mxcdn\.net\/bb-serve\/omid-meetrics.*\.js$/,],],[ey.VerificationVendorId.GOOGLE,[/^(https?:\/\/|\/\/)?pagead2\.googlesyndication\.com\/.*$/,/^(https?:\/\/|\/\/)?www\.googletagservices\.com\/.*$/,],],]);S("OmidSessionClient.verificationVendorIdForScriptUrl",e8),S("OmidSessionClient.VerificationVendorId",ey.VerificationVendorId),ey.verificationVendorIdForScriptUrl=e8;var ev={};function em(e,t){return .01>Math.abs(e-t)}ev.roughlyLessThan=function e(t,n){return n-t>.01},ev.lessThanOrRoughlyEqual=function e(t,n){return t<n||em(t,n)},ev.greaterThanOrRoughlyEqual=function e(t,n){return t>n||em(t,n)}},"undefined"==typeof exports?void 0:exports);